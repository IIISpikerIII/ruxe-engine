<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<html>
	<head>
		<title>Ruxe Engine API</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<meta name="generator" content="Extra Hide Studio 2010 (www.ruxesoft.net)">
		<link rel="stylesheet" type="text/css" href="../style.css">
	</head>
<body>
<center>
	<table border=0 cellpadding=0 cellspacing=0>
		<tr><td>
			<img src="../../rpanel/theme/images/rpanel.jpg" border=0><br>
			<div style="margin:-26px 10px 0px 0px; text-align:right;"><a href="http://engine.ruxesoft.net">engine.ruxesoft.net</a></div>
		</td></tr>
        </table><br><br>
        <div style="width:830px; text-align:left;">
        	<h2>Ruxe Engine API</h2>
		<!-- -->
		<p class="ro">При создании дополнений для Ruxe Engine будет полезным использовать готовые функции Ruxe Engine.</p>
              				<ul>
              					<li><b>$GlobalCache -&gt;</b>
              						<ul>
              							<li>cats('идентификатор новостного раздела')
              								<ul>
              									<li>Обновление кэша категорий указанного новостного раздела.</li>
              								</ul>
              							</li>
              							<li>tags('идентификатор новостного раздела')
              								<ul>
              									<li>Обновление кэша меток указанного новостного раздела.</li>
              								</ul>
              							</li>
              						</ul>
              					</li>
              					<li><b>$GlobalUsers -&gt;</b>
              						<ul>
              							<li>checkthisuser()
              								<ul>
              									<li>Проверяет логин и пароль вошедшего (если вошёл) пользователя. Если неверны - обнуляет cookie и перенаправляет на главную страницу сайта.</li>
              								</ul>
              							</li>
              							<li>fullname(string): string
              								<ul>
              									<li>Возвращает логин пользователя с учётом его регистра, в независимости от подставленного в параметре.</li>
              								</ul>
              							</li>
              							<li>checklogin(string,bool): bool|string
              								<ul>
              									<li>Проверяет правильность логина (нет ли запрещённых символов и т.п.). Если во втором параметр указано true, то функция вернёт нужные сообщения об ошибке из языкового файла.</li>
              								</ul>
              							</li>
              							<li>checkpassword(string, string, bool):  bool|string
              								<ul>
              									<li>Проверяет правильность пароля и повтора пароля (совпадают ли, нет ли запрещённых символов и т.п.) первый и второй параметры
              									соответственно. Если в третьем параметре указано true, то результат выполнения
              									функции будет сообщение об ошибке из языкового файла (если будет ошибка) или же true.</li>
              								</ul>
              							</li>
              							<li>pmpath(int): string
              								<ul>
              									<li>Выдаёт путь до файла с ЛС пользователя по идентификатору в параметре.</li>
              								</ul>
              							</li>
              							<li>isuser(string): bool
              								<ul>
              									<li>Проверяет существует ли пользователь с именем из параметра (чувствительно к регистру!).</li>
              								</ul>
              							</li>
              							<li>thisisuser(): bool
              								<ul>
              									<li>Проверят логин и пароль активного пользователя.</li>
              								</ul>
              							</li>
              							<li>finduser(string): int
              								<ul>
              									<li>Ищет идентификатор пользователя string. Если не находит - возвращает <b>-1</b>.</li>
              								</ul>
              							</li>
              							<li>getpole(string,int): string
              								<ul>
              									<li>Возвращает значение поля (указывается во втором параметре) пользователя (указывается в первом параметре) из users.dat.</li>
              								</ul>
              							</li>
								<li>banmessage(string): string
									<ul>
										<li>Возвращает причину бана пользователя.</li>
									</ul>
								</li>
								<li>getstatus(string): string
									<ul>
										<li>Возвращает статус (admin, editor, moderator, и др.) пользователя. Если пользователь не найден, то возвращает <b>no</b>.</li>
									</ul>
								</li>
								<li>getuser(int): string
									<ul>
										<li>Возвращает имя пользователя по идентификатору.</li>
									</ul>
								</li>
								<li>getid(string): int
									<ul>
										<li>Возвращает идентификатор пользователя.</li>
									</ul>
								</li>
								<li>lastid(): int
									<ul>
										<li>Возвращает последний зарегистрированный идентификатор пользователей.</li>
									</ul>
								</li>
								<li>newid();
									<ul>
										<li>Увеличивает на единицу счётчик последнего идентификатора пользователей.</li>
									</ul>
								</li>
								<li>thisusertime(): int
									<ul>
										<li>Возвращает время последней активности активного пользователя.</li>
									</ul>
								</li>              								
              						</ul>
              					</li>
              					<li><b>$GlobalTemplate -&gt;</b>
              						<ul>
								<li>getonlywords(string): string
									<ul>
										<li>Удаляет из строки все знаки.</li>
									</ul>
								</li>
              							<li>template(array,array,string): string
              								<ul>
              									<li>Заменяет значения из массива 1 параметра на значения массива 2 параметра в файле 3 параметра (не изменяя файл) и возвращает полученный результат.</li>
              								</ul>
              							</li>
              							<li>getsmiles(): array
              								<ul>
              									<li>Возвращает список смайлов.</li>
              								</ul>
              							</li>
              							<li>usebbcodes(string1,'html'): string
              								<ul>
              									<li>Заменяет BB коды из string1 на HTML реализацию и возвращает полученный результат.</li>
              								</ul>
              							</li>
              						</ul>
              					</li>
						<li><b>$GlobalBFG -&gt;</b>
							<ul>
								<li>refreshrewrite()
									<ul>
										<li>Обновляет .htaccess в соответствии с параметрами ЧПУ.</li>
									</ul>
								</li>
							</ul>
						</li>
              					<li><b>$Filtr -&gt;</b>
              						<ul>
								<li>randwords(int): string
									<ul>
										<li>Возвращает случайную комбинацию букв, цифр и знаков длиной, указанной в параметре.</li>
									</ul>
								</li>
              							<li>delendslash(string): string
              								<ul>
              									<li>Удаляет только конечный <b>/</b> (если есть) и возвращает результат.</li>
              								</ul>
              							</li>
              							<li>clear(string): string
              								<ul>
              									<li>Преобразовывает HTML теги в сущности, а также удаляет другие небезопасные символы и возвращает результат.</li>
              								</ul>
              							</li>
								<li>tolat(string): string
									<ul>
										<li>Преобразовывает кириллицу в латиницу.</li>
									</ul>
								</li>
              							<li>tolower(string): string
              								<ul>
              									<li>Понижает регистр букв русского и английского алфавита. Возвращает результат.</li>
              								</ul>
              							</li>
              							<li>utf8_substr(string,int,int): string
              								<ul>
              									<li>Аналог substr, только для UTF-8 кодировки.</li>
              								</ul>
              							</li>
              						</ul>
              					</li>
              					<li><b>$FileManager -&gt;</b>
              						<ul>
              							<li>makedir(string)
              								<ul>
              									<li>Создание каталога string.</li>
              								</ul>
              							</li>
              							<li>removedir(string)
              								<ul>
              									<li>Удаление каталога string.</li>
              								</ul>
              							</li>
              							<li>fsize(string):int
              								<ul>
              									<li>Возвращает размер файла(в параметре путь до файла).</li>
              								</ul>
              							</li>
              							<li>removefile(string)
              								<ul>
              									<li>Удаление файла string.</li>
              								</ul>
              							</li>
              							<li>checkfilename(string): bool
              								<ul>
              									<li>Проверка правильности файлового имени.</li>
              								</ul>
              							</li>
              						</ul>
              					</li>
              				</ul>
		<!-- -->
        </div>
        <div style="height:200px;">&nbsp;</div>
</center>
</body>
</html>